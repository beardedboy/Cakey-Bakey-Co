var Carousel=function(a){function b(b){k.descriptions.each(function(){var c=(b-a(this).height())/2;a(this).css("top",c).show()})}function c(b){k.links.each(function(){var c=(b-a(this).outerWidth())/2;k.medmq.matches?a(this).hide():a(this).css("left",c).show()})}function d(){var a=k.currentSlide+1;k.medmq.matches||(k.currentSlide<k.slides.length-1?(k.slides.eq(a).addClass(k.activeClass),k.slides.eq(k.currentSlide).removeClass(k.activeClass),k.currentSlide++):(k.currentSlide=0,k.slides.eq(k.currentSlide).addClass(k.activeClass),k.slides.last().removeClass(k.activeClass)))}function e(a){var b=k.container.width(),c=b/a;k.container.height(c)}function f(b){if(b){var c=k.container.width();a(".carousel_list_item img").each(function(){a(this).width(c)})}else a(".carousel_list_item img").each(function(){a(this).css("width","")})}function g(){var a=k.slides[0];console.log(k.slides),k.slides.append(a)}function h(b,c){var d=c.find("a");d.each(b.matches?function(){var b=a(this).attr("href");a(this).parent().parent().is("a")||a(this).parent().wrap('<a href="'+b+'"></a>')}:function(){a(this).parent().parent().is("a")&&a(this).parent().unwrap()})}function i(){0!==k.currentSlide?(a(".carousel_controls-left").unbind("click"),k.slides.eq(k.currentSlide).removeClass("carousel_list_item-active"),k.slides.eq(k.currentSlide).prev().addClass("carousel_list_item-active"),k.currentSlide--):(k.slides.eq(k.currentSlide).removeClass("carousel_list_item-active"),k.currentSlide=k.slides.length-1,k.slides.eq(k.currentSlide).addClass("carousel_list_item-active")),a(".carousel_controls-left").bind("click",i)}function j(){k.currentSlide!==k.slides.length-1?(a(".carousel_controls-right").unbind("click"),k.slides.eq(k.currentSlide).removeClass("carousel_list_item-active"),k.slides.eq(k.currentSlide).next().addClass("carousel_list_item-active"),k.currentSlide++):(k.slides.eq(k.currentSlide).removeClass("carousel_list_item-active"),k.currentSlide=0,k.slides.eq(k.currentSlide).addClass("carousel_list_item-active")),a(".carousel_controls-right").bind("click",j)}var k={container:a(".carousel"),slides:a(".carousel_list_item"),descriptions:a(".carousel_list_item_desc"),links:a(".carousel_list_item_link"),activeClass:"carousel_list_item-active",width:a(".carousel_list_item").width(),height:a(".carousel_list_item").height(),aspectRatio:2.083333,medmq:window.matchMedia("(max-width: 47.5em)"),transition:5e3,currentSlide:0},l={};return l.init=function(){setInterval(d,k.transition);k.medmq.matches?(e(k.aspectRatio),f(!0)):(b(k.height),c(k.width),e(k.aspectRatio)),a(window).resize(function(){k.medmq.matches?(f(!0),e(k.aspectRatio),h(k.medmq,k.slides),g()):(f(!1),e(k.aspectRatio),h(k.medmq,k.slides),b(k.slides.height()),c(k.slides.width()),k.container.hover(function(){clearInterval(d)},function(){d=setInterval(d,k.transition)}))}),a(".carousel_controls-left").bind("click",i),a(".carousel_controls-right").bind("click",j),Modernizr.touch},l}(jQuery);Carousel.init();var global=void 0,Helper=function(){function a(a,b){if(document.documentElement.classList)a.classList.toggle(b);else{var c=new RegExp(b,"");c.test(a.className)?a.className=a.className.replace(c,""):a.className+=" "+b}}function b(a,b){if(document.documentElement.classList)a.classList.contains(b)||a.classList.add(b);else{var c=new RegExp(b,"");c.test(a.className)||(a.className+=" "+b)}}function c(a,b){if(document.documentElement.classList)a.classList.contains(b)&&a.classList.remove(b);else{var c=new RegExp(b,"");c.test(a.className)&&(a.className-=b)}}function d(){if(!Modernizr.svg)for(var a=document.getElementsByTagName("img"),b=/.*\.svg$/,c=0,d=a.length;c!=d;++c)a[c].src.match(b)&&(a[c].src=a[c].src.slice(0,-3)+"png")}return window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),{toggleClass:a,addClass:b,removeClass:c,modSVG:d}}();Helper.modSVG();var Touch=function(){function a(){Helper.addClass(b,"touch")}var b=document.querySelectorAll(".nav_main_list, .carousel");return{enable:a}}(),Navigation=function(){function a(){e.nav_open.addEventListener("touchstart",function(a){a.preventDefault(),console.log("open"),window.requestAnimFrame(b),document.body.style.overflowY="hidden"}),e.nav_close.addEventListener("touchstart",function(a){a.preventDefault(),console.log("close"),window.requestAnimFrame(b),document.body.style.overflowY="auto"})}function b(){Helper.toggleClass(e.nav_list,e.openClass)}function c(){Helper.addClass(e.nav_list,"touch")}function d(){var a="MSPointerDown",b="MSPointerUp",c="MSPointerMove";window.PointerEvent&&(a="pointerdown",b="pointerup",c="pointermove"),window.PointerEventsSupport=!1,(window.PointerEvent||window.navigator.msPointerEnabled)&&(window.PointerEventsSupport=!0),window.PointerEventsSupport?e.nav_open.addEventListener(a,d,!0):(e.nav_open.addEventListener("touchstart",d,!0),e.nav_open.addEventListener("mousedown",d,!0));var d=function(a){a.preventDefault(),a.touches&&a.touches.length>1||console.log("blah")}}var e={nav_open:document.querySelector(".nav_main_btn-menu"),nav_close:document.querySelector(".nav_main_btn-close"),nav_list:document.querySelector(".nav_main_container"),openClass:"nav_main-open"};return{init:a,enableTouch:c,runTouch:d}}();Navigation.init(),Navigation.runTouch(),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var Touch=function(){var a="MSPointerDown",b="MSPointerUp",c="MSPointerMove";return window.PointerEvent&&(a="pointerdown",b="pointerup",c="pointermove"),window.PointerEventsSupport=!1,(window.PointerEvent||window.navigator.msPointerEnabled)&&(window.PointerEventsSupport=!0),{}}();